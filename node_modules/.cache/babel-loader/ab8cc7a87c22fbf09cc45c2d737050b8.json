{"ast":null,"code":"var _jsxFileName = \"/mnt/c/Users/Dep Trai/Projects/tueminhbookstore/src/components/Common/UserInfo.js\";\nimport React, { Component } from \"react\";\nimport Login from \"../Pages/Login\";\n\nclass UserInfo extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      email: null,\n      displayName: null\n    };\n\n    this.authenticate = provider => {\n      console.log(provider);\n      const authProvider = new firebase.auth[`${provider}AuthProvider`]();\n      firebaseApp.auth().signInWithPopUp(authProvider).then(this.authHandler);\n    };\n\n    this.authHandler = async authData => {\n      const user = authData.user;\n      this.setState({\n        email: user.email,\n        displayName: user.displayName\n      });\n    };\n\n    this.logout = async () => {\n      await firebase.auth().signOut();\n      this.setState({\n        email: null,\n        displayName: null\n      });\n    };\n  }\n\n  componentDidMount() {\n    firebase.auth().onAuthStateChanged(user => {\n      if (user) {\n        this.authHandler({\n          user\n        });\n      }\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(Login, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 12\n      }\n    });\n  }\n\n}\n\nexport default UserInfo;","map":{"version":3,"sources":["/mnt/c/Users/Dep Trai/Projects/tueminhbookstore/src/components/Common/UserInfo.js"],"names":["React","Component","Login","UserInfo","state","email","displayName","authenticate","provider","console","log","authProvider","firebase","auth","firebaseApp","signInWithPopUp","then","authHandler","authData","user","setState","logout","signOut","componentDidMount","onAuthStateChanged","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,gBAAlB;;AAEA,MAAMC,QAAN,SAAuBF,SAAvB,CAAiC;AAAA;AAAA;AAAA,SAC7BG,KAD6B,GACrB;AACJC,MAAAA,KAAK,EAAE,IADH;AAEJC,MAAAA,WAAW,EAAE;AAFT,KADqB;;AAAA,SAc7BC,YAd6B,GAcdC,QAAQ,IAAI;AACvBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACA,YAAMG,YAAY,GAAG,IAAIC,QAAQ,CAACC,IAAT,CAAe,GAAEL,QAAS,cAA1B,CAAJ,EAArB;AACAM,MAAAA,WAAW,CACND,IADL,GAEKE,eAFL,CAEqBJ,YAFrB,EAGKK,IAHL,CAGU,KAAKC,WAHf;AAIH,KArB4B;;AAAA,SAuB7BA,WAvB6B,GAuBf,MAAMC,QAAN,IAAkB;AAC5B,YAAMC,IAAI,GAAGD,QAAQ,CAACC,IAAtB;AACA,WAAKC,QAAL,CAAc;AACVf,QAAAA,KAAK,EAAEc,IAAI,CAACd,KADF;AAEVC,QAAAA,WAAW,EAAEa,IAAI,CAACb;AAFR,OAAd;AAIH,KA7B4B;;AAAA,SA+B7Be,MA/B6B,GA+BpB,YAAY;AACjB,YAAMT,QAAQ,CAACC,IAAT,GAAgBS,OAAhB,EAAN;AACA,WAAKF,QAAL,CAAc;AAACf,QAAAA,KAAK,EAAE,IAAR;AAAcC,QAAAA,WAAW,EAAE;AAA3B,OAAd;AACH,KAlC4B;AAAA;;AAM7BiB,EAAAA,iBAAiB,GAAG;AAChBX,IAAAA,QAAQ,CAACC,IAAT,GAAgBW,kBAAhB,CAAmCL,IAAI,IAAI;AACvC,UAAIA,IAAJ,EAAU;AACN,aAAKF,WAAL,CAAiB;AAAEE,UAAAA;AAAF,SAAjB;AACH;AACJ,KAJD;AAKH;;AAwBHM,EAAAA,MAAM,GAAG;AACP,wBAAO,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AAED;;AAvC8B;;AA0CjC,eAAetB,QAAf","sourcesContent":["import React, { Component } from \"react\";\r\nimport Login from \"../Pages/Login\";\r\n\r\nclass UserInfo extends Component {\r\n    state = {\r\n        email: null,\r\n        displayName: null\r\n    };\r\n\r\n    componentDidMount() {\r\n        firebase.auth().onAuthStateChanged(user => {\r\n            if (user) {\r\n                this.authHandler({ user });\r\n            }\r\n        });\r\n    }\r\n\r\n    authenticate = provider => {\r\n        console.log(provider);\r\n        const authProvider = new firebase.auth[`${provider}AuthProvider`]();\r\n        firebaseApp\r\n            .auth()\r\n            .signInWithPopUp(authProvider)\r\n            .then(this.authHandler);\r\n    };\r\n\r\n    authHandler = async authData => {\r\n        const user = authData.user;\r\n        this.setState({\r\n            email: user.email,\r\n            displayName: user.displayName\r\n        });\r\n    };\r\n\r\n    logout = async () => {\r\n        await firebase.auth().signOut();\r\n        this.setState({email: null, displayName: null});\r\n    };\r\n\r\n  render() {\r\n    return <Login />;\r\n    \r\n  }\r\n}\r\n\r\nexport default UserInfo;"]},"metadata":{},"sourceType":"module"}