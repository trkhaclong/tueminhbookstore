{"ast":null,"code":"import API from '../../utils/api';\nexport const login = (email, pass) => {\n  return dispatch => {\n    API.login(email, pass, res => {\n      console.log(\"Result\", res.data);\n      dispatch({\n        type: 'LOGIN',\n        payload: {\n          email: email,\n          token: res.data.id,\n          userId: res.data.userId\n        }\n      });\n    });\n  }; // return {\n  //     type: 'LOGIN',\n  //     payload: {email, pass}\n  // }\n};\nexport const register = (name, email, pass) => {\n  return dispatch => {\n    API.register(name, email, pass, res => {\n      if (res.status === 200) {\n        dispatch(login(email, pass));\n      } else {\n        if (res.message) {\n          dispatch({\n            type: 'SHOW_ERROR',\n            payload: error.message\n          });\n        }\n      }\n    });\n  }; // {\n  //     type: 'REGISTER',\n  //     payload: {email, pass}\n  // }\n};","map":{"version":3,"sources":["/mnt/c/Users/Dep Trai/Projects/tueminhbookstore/src/store/actions/authActions.js"],"names":["API","login","email","pass","dispatch","res","console","log","data","type","payload","token","id","userId","register","name","status","message","error"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,iBAAhB;AAEA,OAAO,MAAMC,KAAK,GAAG,CAACC,KAAD,EAAQC,IAAR,KAAiB;AAClC,SAAQC,QAAD,IAAc;AACjBJ,IAAAA,GAAG,CAACC,KAAJ,CAAUC,KAAV,EAAgBC,IAAhB,EAAqBE,GAAG,IAAI;AACxBC,MAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBF,GAAG,CAACG,IAA1B;AACAJ,MAAAA,QAAQ,CAAC;AACLK,QAAAA,IAAI,EAAE,OADD;AAELC,QAAAA,OAAO,EAAE;AACLR,UAAAA,KAAK,EAAEA,KADF;AAELS,UAAAA,KAAK,EAAEN,GAAG,CAACG,IAAJ,CAASI,EAFX;AAGLC,UAAAA,MAAM,EAAER,GAAG,CAACG,IAAJ,CAASK;AAHZ;AAFJ,OAAD,CAAR;AAQH,KAVD;AAWH,GAZD,CADkC,CAclC;AACA;AACA;AACA;AACH,CAlBM;AAoBP,OAAO,MAAMC,QAAQ,GAAG,CAACC,IAAD,EAAOb,KAAP,EAAcC,IAAd,KAAuB;AAC3C,SAAOC,QAAQ,IAAI;AACfJ,IAAAA,GAAG,CAACc,QAAJ,CAAaC,IAAb,EAAmBb,KAAnB,EAA0BC,IAA1B,EAAgCE,GAAG,IAAI;AACnC,UAAGA,GAAG,CAACW,MAAJ,KAAe,GAAlB,EAAsB;AAClBZ,QAAAA,QAAQ,CAACH,KAAK,CAACC,KAAD,EAAQC,IAAR,CAAN,CAAR;AACH,OAFD,MAEK;AACD,YAAGE,GAAG,CAACY,OAAP,EAAe;AACXb,UAAAA,QAAQ,CAAC;AACLK,YAAAA,IAAI,EAAE,YADD;AAELC,YAAAA,OAAO,EAAEQ,KAAK,CAACD;AAFV,WAAD,CAAR;AAIH;AACJ;AACJ,KAXD;AAYH,GAbD,CAD2C,CAe3C;AACA;AACA;AACA;AACH,CAnBM","sourcesContent":["import API from '../../utils/api';\r\n\r\nexport const login = (email, pass) => {\r\n    return (dispatch) => {\r\n        API.login(email,pass,res => {\r\n            console.log(\"Result\", res.data);\r\n            dispatch({\r\n                type: 'LOGIN',\r\n                payload: {\r\n                    email: email,\r\n                    token: res.data.id,\r\n                    userId: res.data.userId\r\n                }\r\n            })\r\n        })\r\n    }\r\n    // return {\r\n    //     type: 'LOGIN',\r\n    //     payload: {email, pass}\r\n    // }\r\n}\r\n\r\nexport const register = (name, email, pass) => {\r\n    return dispatch => {\r\n        API.register(name, email, pass, res => {\r\n            if(res.status === 200){\r\n                dispatch(login(email, pass));\r\n            }else{\r\n                if(res.message){\r\n                    dispatch({\r\n                        type: 'SHOW_ERROR',\r\n                        payload: error.message\r\n                    })\r\n                }\r\n            }\r\n        })\r\n    }\r\n    // {\r\n    //     type: 'REGISTER',\r\n    //     payload: {email, pass}\r\n    // }\r\n}"]},"metadata":{},"sourceType":"module"}